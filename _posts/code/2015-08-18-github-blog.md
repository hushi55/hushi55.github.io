---
layout: post
title: github blogs
description: 使用 github 作为 blog 站点
category: code
tags: [github]
---
我的这个 blogs 站点使用也有一段时间，这个站点是基于 github 搭建的，使用的 jekyll 解析的 markdown 文档。今天刚好换电脑，在新电脑上重新
搭建一遍本地环境，现在记录下来用于以后的查找。这里主要是说明 jekyll 在 windows 上的本地环境搭建，其他的关于 github 的设置等，以后再补。

首先到 [jekyll for windows](http://jekyll-windows.juthilo.com/1-ruby-and-devkit/) 的站点下载好 Ruby 和 Ruby DevKit，这
安装时要注意勾选  "Add Ruby executables to your PATH"，这个选项。是将 Ruby 在 PATH 路径中，方便命令的执行。当安装完成后执行如下命令

<pre>
cd C:\RubyDevKit

ruby dk.rb init

ruby dk.rb install
</pre>

注意在第二条命令的执行后，一般会成功，但是第三条命令不一定会成功。我们根据提示打开 C:\RubyDevKit 这个目录下的 config.yml 文件可以看到

<pre class="nowordwrap">
# This configuration file contains the absolute path locations of all
# installed Rubies to be enhanced to work with the DevKit. This config
# file is generated by the 'ruby dk.rb init' step and may be modified
# before running the 'ruby dk.rb install' step. To include any installed
# Rubies that were not automagically discovered, simply add a line below
# the triple hyphens with the absolute path to the Ruby root directory.
#
# Example:
#
# ---
# - C:/ruby19trunk
# - C:/ruby192dev
#
---
</pre>

意思是说这个文件会将 Ruby 的安装目录添加到这个文件中，格式就是注释知名的，我们可以根据我们自己的安装目录添加一行后如下：

<pre class="nowordwrap">
...

# Example:
#
# ---
# - C:/ruby19trunk
# - C:/ruby192dev
#
---
- D:/Dev/Ruby22-x64

</pre>

这样在执行第三条命令就可以了，当 Ruby 安装成功后。我们就可以安装 jekyll 了。由于国内网络的问题，我们首先需要修改 Ruby 的源。

<pre>
gem sources
</pre>

查看使用的是哪个源，在使用如下命令，删除后再添加 taobao 的源

<pre>
gem sources --remove https://rubygems.org/

gem sources -a http://ruby.taobao.org/
</pre>

然后就可以使用 gem 安装 jekyll 和 markdown 的解析器了：

<pre>
gem install jekyll

gem install jekyll rdiscount
</pre>

若是没有出错，那么在 windows 下的 jekyll 本地环境就搭建好了，为了方便每次在本地调试，我们可以写一个 bat 文件，方便启动 jekyll，这是我的 bat 文件，
很简单：

<pre>
d:

cd D:\Dev\Git\Github\hushi55.github.io

jekyll s
</pre>


## 参考

- https://github.com/jekyll/jekyll
- http://jekyll-windows.juthilo.com/1-ruby-and-devkit/
- http://beiyuu.com/github-pages/

[-10]:    http://hushi55.github.io/  "-10"
